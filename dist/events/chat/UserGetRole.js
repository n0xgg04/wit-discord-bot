"use strict";var I=Object.create;var c=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var T=Object.getPrototypeOf,B=Object.prototype.hasOwnProperty;var L=(t,r)=>{for(var o in r)c(t,o,{get:r[o],enumerable:!0})},p=(t,r,o,e)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of b(r))!B.call(t,n)&&n!==o&&c(t,n,{get:()=>r[n],enumerable:!(e=u(r,n))||e.enumerable});return t};var d=(t,r,o)=>(o=t!=null?I(T(t)):{},p(r||!t||!t.__esModule?c(o,"default",{value:t,enumerable:!0}):o,t)),W=t=>p(c({},"__esModule",{value:!0}),t),l=(t,r,o,e)=>{for(var n=e>1?void 0:e?u(r,o):r,a=t.length-1,m;a>=0;a--)(m=t[a])&&(n=(e?m(r,o,n):m(n))||n);return e&&n&&c(r,o,n),n},s=(t,r)=>(o,e)=>r(o,e,t);var k={};L(k,{default:()=>g});module.exports=W(k);var f=d(require("../../lib/decorators/MessageListener")),M=require("../../lib/filter"),w=d(require("../../lib/decorators/Message")),h=d(require("../../../../prisma/client")),y=d(require("lodash"));let i=class{async handler(r){if(await h.default.discordMember.count({where:{discordId:r.author.id}})!=0){await r.reply({content:"B\u1EA1n \u0111\xE3 c\xF3 trong danh s\xE1ch th\xE0nh vi\xEAn! \u0110\u1EC3 c\u1EA5p role l\u1EA1i, h\xE3y tag Mentor"});return}let e=r.guild.roles.cache.find(a=>a.name==="WIT2024"),n=r.id.concat(y.default.random(1,1e3).toString());try{await Promise.all([h.default.discordMember.create({data:{discordId:r.author.id,missTime:0,username:r.author.username}}),h.default.member.create({data:{username:r.author.username,password:n,memberId:r.author.id,email:r.author.username}}),r.member.roles.add(e),r.reply({content:"<:chotuirole:1263873531460976640> \u0110\xE3 c\u1EA5p role! B\u1EA1n c\xF3 th\u1EC3 nh\xECn th\u1EA5y c\xE1c ph\xF2ng meeting!"}),r.author.send({content:`<:chotuirole:1263873531460976640> B\u1EA1n \u0111\xE3 \u0111\u01B0\u1EE3c th\xEAm v\xE0o role WIT 2024. D\u01B0\u1EDBi \u0111\xE2y l\xE0 t\xE0i kho\u1EA3n \u0111\u0103ng nh\u1EADp WIT c\u1EE7a b\u1EA1n. Kh\xF4ng chia s\u1EBB n\xF3 t\u1EDBi b\u1EA5t k\u1EF3 ai: 
 Username: ${r.author.username} - Password: ||${n}||`})])}catch{await r.reply({content:"Kh\xF4ng th\u1EC3 c\u1EA5p role."})}}};l([s(0,(0,w.default)())],i.prototype,"handler",1),i=l([(0,f.default)([M.Filter.includes("*chotuirole")])],i);var g=i;
