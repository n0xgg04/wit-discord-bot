"use strict";var y=Object.create;var o=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var j=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty;var H=(r,t)=>{for(var e in t)o(r,e,{get:t[e],enumerable:!0})},m=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of g(t))!L.call(r,i)&&i!==e&&o(r,i,{get:()=>t[i],enumerable:!(n=p(t,i))||n.enumerable});return r};var c=(r,t,e)=>(e=r!=null?y(j(r)):{},m(t||!r||!r.__esModule?o(e,"default",{value:r,enumerable:!0}):e,r)),b=r=>m(o({},"__esModule",{value:!0}),r),l=(r,t,e,n)=>{for(var i=n>1?void 0:n?p(t,e):t,d=r.length-1,s;d>=0;d--)(s=r[d])&&(i=(n?s(t,e,i):s(i))||i);return n&&i&&o(t,e,i),i},f=(r,t)=>(e,n)=>t(e,n,r);var v={};H(v,{default:()=>q});module.exports=b(v);var u=c(require("../../lib/decorators/MessageListener")),M=require("../../lib/filter"),w=c(require("../../lib/decorators/Message")),h=c(require("../../../../prisma/client"));let a=class{async handler(t){const e=t.channelId;try{const n=await h.default.discordMeet.findUnique({where:{channel:e,isActive:!0}});if(!n){await t.reply({content:"Meeting kh\xF4ng t\u1ED3n t\u1EA1i..."});return}const i=n.joined.split(" ");if(i.includes(t.author.id)){await t.reply({content:"B\u1EA1n \u0111\xE3 \u0111i\u1EC3m danh tr\u01B0\u1EDBc \u0111\xF3 r\u1ED3i..."});return}await h.default.discordMeet.update({where:{id:n.id},data:{joined:[...i,t.author.id].join(" ")}}),await t.reply({content:"<:diemdanh:1263879058375180349> \u0110\xE3 \u0111i\u1EC3m danh th\xE0nh c\xF4ng"})}catch(n){await t.reply({content:`\u0110\xE3 \u0111i\u1EC3m danh th\u1EA5t b\u1EA1i (error: ${n.toString()})`})}}};l([f(0,(0,w.default)())],a.prototype,"handler",1),a=l([(0,u.default)([M.Filter.startWith("*checkin")])],a);var q=a;
